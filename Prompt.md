# ğŸ“‹ Prompt.md - à¹€à¸­à¸à¸ªà¸²à¸£à¸ à¸²à¸à¸£à¸§à¸¡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ Border Safety

> **à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ**: à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰à¸­à¸˜à¸´à¸šà¸²à¸¢à¸ à¸²à¸à¸£à¸§à¸¡, à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸”, à¹à¸¥à¸°à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸•à¹ˆà¸²à¸‡à¹† à¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸™à¸±à¸à¸à¸±à¸’à¸™à¸²à¸£à¸¸à¹ˆà¸™à¸•à¹ˆà¸­à¹„à¸›à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸²à¸™à¸•à¹ˆà¸­à¹„à¸”à¹‰

---

## ğŸ¯ à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰à¸„à¸·à¸­à¸­à¸°à¹„à¸£?

**Border Safety** à¹€à¸›à¹‡à¸™à¸£à¸°à¸šà¸šà¹€à¸•à¸·à¸­à¸™à¸ à¸±à¸¢à¸à¸¥à¹€à¸£à¸·à¸­à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸Šà¸²à¸Šà¸™à¸šà¸£à¸´à¹€à¸§à¸“à¸Šà¸²à¸¢à¹à¸”à¸™à¹„à¸—à¸¢-à¸à¸±à¸¡à¸à¸¹à¸Šà¸² à¹‚à¸”à¸¢à¹€à¸‰à¸à¸²à¸°à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆ à¸ˆ.à¸•à¸£à¸²à¸”

### à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸:

- ğŸ“ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸£à¸°à¸¢à¸°à¸«à¹ˆà¸²à¸‡à¸ˆà¸²à¸à¸Šà¸²à¸¢à¹à¸”à¸™à¸œà¹ˆà¸²à¸™ GPS à¸«à¸£à¸·à¸­à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥
- ğŸ—ºï¸ à¹à¸œà¸™à¸—à¸µà¹ˆà¸ˆà¸³à¸¥à¸­à¸‡à¹à¸ªà¸”à¸‡à¹€à¸ªà¹‰à¸™à¸Šà¸²à¸¢à¹à¸”à¸™à¹à¸¥à¸°à¸£à¸±à¸¨à¸¡à¸µà¸­à¸²à¸§à¸¸à¸˜ (BM-21, PHL-03)
- ğŸ“¢ à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œ (Live Reports) - à¹€à¸ªà¸µà¸¢à¸‡à¸£à¸°à¹€à¸šà¸´à¸”, à¹€à¸ªà¸µà¸¢à¸‡à¸›à¸·à¸™, à¸¯à¸¥à¸¯
- ğŸ“š à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¹€à¸•à¸£à¸µà¸¢à¸¡à¸à¸£à¹‰à¸­à¸¡ 72 à¸Šà¸¡. à¹à¸¥à¸°à¸›à¸à¸¡à¸à¸¢à¸²à¸šà¸²à¸¥
- ğŸ‘® Admin Dashboard à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸²à¸¢à¸‡à¸²à¸™, à¸›à¸£à¸°à¸à¸²à¸¨, à¸šà¸¥à¹‡à¸­à¸ IP

ï¿½ **Live Demo**: https://webforchaidean2-production.up.railway.app

---

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
KuyHunsen/
â”œâ”€â”€ frontend/                     # React Frontend (Vite)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/                # à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸
â”‚       â”‚   â”œâ”€â”€ HomeTab.jsx       # à¸«à¸™à¹‰à¸²à¹à¸£à¸ + à¸ªà¸–à¸²à¸™à¸°à¸£à¸°à¸šà¸š
â”‚       â”‚   â”œâ”€â”€ CheckTab.jsx      # à¹€à¸Šà¹‡à¸„à¸£à¸°à¸¢à¸°à¸ˆà¸²à¸à¸Šà¸²à¸¢à¹à¸”à¸™
â”‚       â”‚   â”œâ”€â”€ MapTab.jsx        # à¹à¸œà¸™à¸—à¸µà¹ˆà¸ˆà¸³à¸¥à¸­à¸‡ + Simulation
â”‚       â”‚   â”œâ”€â”€ GuideTab.jsx      # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¹€à¸•à¸£à¸µà¸¢à¸¡à¸à¸£à¹‰à¸­à¸¡
â”‚       â”‚   â”œâ”€â”€ FeedbackPage.jsx  # à¸«à¸™à¹‰à¸² Feedback
â”‚       â”‚   â”œâ”€â”€ AdminDashboard.jsx # à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸š
â”‚       â”‚   â””â”€â”€ AdminLoginPage.jsx # Login Admin
â”‚       â”‚
â”‚       â”œâ”€â”€ components/           # Components à¸¢à¹ˆà¸­à¸¢
â”‚       â”‚   â”œâ”€â”€ ThreatBanner.jsx      # à¹à¸šà¸™à¹€à¸™à¸­à¸£à¹Œà¸£à¸°à¸”à¸±à¸šà¸ à¸±à¸¢à¸„à¸¸à¸à¸„à¸²à¸¡
â”‚       â”‚   â”œâ”€â”€ AutoLocationBanner.jsx # GPS + Location
â”‚       â”‚   â”œâ”€â”€ ReportForm.jsx        # à¸Ÿà¸­à¸£à¹Œà¸¡à¹à¸ˆà¹‰à¸‡à¹€à¸«à¸•à¸¸
â”‚       â”‚   â”œâ”€â”€ LiveReports.jsx       # à¸£à¸²à¸¢à¸‡à¸²à¸™ Real-time
â”‚       â”‚   â”œâ”€â”€ EmergencyPanel.jsx    # à¸›à¸¸à¹ˆà¸¡à¸‰à¸¸à¸à¹€à¸‰à¸´à¸™
â”‚       â”‚   â”œâ”€â”€ FirstAidGuide.jsx     # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸›à¸à¸¡à¸à¸¢à¸²à¸šà¸²à¸¥
â”‚       â”‚   â”œâ”€â”€ SelfDefenseGuide.jsx  # à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸•à¸±à¸§
â”‚       â”‚   â””â”€â”€ BottomNav.jsx         # Navigation Bar
â”‚       â”‚
â”‚       â”œâ”€â”€ config/api.js         # API_BASE configuration
â”‚       â””â”€â”€ data/tambons.js       # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸³à¸šà¸¥ à¸ˆ.à¸•à¸£à¸²à¸”
â”‚
â”œâ”€â”€ backend/                      # Express.js Backend
â”‚   â”œâ”€â”€ server.js                 # Main Express server
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/v1/                # API endpoints
â”‚   â”‚   â”œâ”€â”€ auth.js               # Login/Logout
â”‚   â”‚   â”œâ”€â”€ reports.js            # CRUD à¸£à¸²à¸¢à¸‡à¸²à¸™
â”‚   â”‚   â”œâ”€â”€ status.js             # Threat Level, Broadcasts
â”‚   â”‚   â”œâ”€â”€ admin.js              # Logs, IP Blocking
â”‚   â”‚   â”œâ”€â”€ locate.js             # Distance Calculation
â”‚   â”‚   â”œâ”€â”€ geo.js                # Districts/Tambons
â”‚   â”‚   â””â”€â”€ feedback.js           # Feedback
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # Business logic
â”‚   â”‚   â”œâ”€â”€ database.js           # SQLite CRUD
â”‚   â”‚   â”œâ”€â”€ cache.js              # In-memory cache
â”‚   â”‚   â”œâ”€â”€ autoBlocker.js        # Auto IP blocking
â”‚   â”‚   â””â”€â”€ geoEngine.js          # Geographic calculations
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/               # Express middleware
â”‚   â”‚   â”œâ”€â”€ auth.js               # JWT verification
â”‚   â”‚   â”œâ”€â”€ security.js           # Rate limit, XSS/SQLi
â”‚   â”‚   â”œâ”€â”€ csrf.js               # CSRF protection
â”‚   â”‚   â””â”€â”€ audit.js              # Activity logging
â”‚   â”‚
â”‚   â””â”€â”€ db/schema.sql             # Database schema
â”‚
â”œâ”€â”€ Dockerfile                    # Production build
â”œâ”€â”€ docker-compose.yml            # Local Docker
â”œâ”€â”€ railway.json                  # Railway config
â”œâ”€â”€ README.md                     # Project docs
â””â”€â”€ SECURITY.md                   # Security docs
```

---

## ğŸ”§ Tech Stack

| Layer      | Technology              |
| ---------- | ----------------------- |
| Frontend   | React 18 + Vite         |
| Styling    | TailwindCSS             |
| Map        | Leaflet.js              |
| Backend    | Express.js 4            |
| Database   | SQLite (better-sqlite3) |
| Auth       | JWT + bcryptjs          |
| Deployment | Railway + Docker        |

---

## ğŸ” à¸£à¸°à¸šà¸šà¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

| Feature       | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”                                 |
| ------------- | ------------------------------------------ |
| JWT Auth      | Access Token (15min) + Refresh (7d)        |
| Rate Limiting | Auth: 5/15min, API: 100/15min              |
| CSRF          | Double-submit cookie pattern               |
| XSS/SQLi      | Input sanitization + parameterized queries |
| IP Blocking   | Manual + Auto-block                        |
| Audit Logging | Log security events                        |

---

## ğŸ“Š Database Tables

```sql
reports        -- à¸£à¸²à¸¢à¸‡à¸²à¸™à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œ (type, location, GPS, verified)
system_status  -- à¸ªà¸–à¸²à¸™à¸°à¸£à¸°à¸šà¸š (threat_level, etc.)
broadcasts     -- à¸›à¸£à¸°à¸à¸²à¸¨ (message, priority, active)
blocked_ips    -- IP à¸—à¸µà¹ˆà¸šà¸¥à¹‡à¸­à¸
audit_logs     -- Logs à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
```

---

## ğŸš€ à¸§à¸´à¸˜à¸µ Run

### Development

```bash
# Backend (Port 3001)
cd backend && npm install && npm start

# Frontend (Port 5174)
cd frontend && npm install && npm run dev
```

### Production (Docker)

```bash
docker-compose up -d
```

---

## ğŸ“¡ API Endpoints à¸«à¸¥à¸±à¸

| Method | Endpoint                      | Description       |
| ------ | ----------------------------- | ----------------- |
| GET    | `/api/v1/status/threat-level` | à¸£à¸°à¸”à¸±à¸šà¸ à¸±à¸¢à¸„à¸¸à¸à¸„à¸²à¸¡    |
| GET    | `/api/v1/reports`             | à¸£à¸²à¸¢à¸‡à¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”     |
| POST   | `/api/v1/reports`             | à¸ªà¹ˆà¸‡à¸£à¸²à¸¢à¸‡à¸²à¸™à¹ƒà¸«à¸¡à¹ˆ     |
| POST   | `/api/v1/locate/check`        | à¹€à¸Šà¹‡à¸„à¸£à¸°à¸¢à¸°à¸ˆà¸²à¸à¸Šà¸²à¸¢à¹à¸”à¸™ |
| POST   | `/api/v1/auth/admin/login`    | Admin Login       |

---

## ï¿½ à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸„à¸§à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­

1. Push Notifications
2. Offline Mode
3. SMS Alerts
4. Mobile App (React Native)
5. Automated Testing

---

_Last Updated: December 12, 2024_
