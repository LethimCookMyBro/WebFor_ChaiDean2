# üõ°Ô∏è Border Safety

‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏±‡∏¢‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô‡πÑ‡∏ó‡∏¢-‡∏Å‡∏±‡∏°‡∏û‡∏π‡∏ä‡∏≤ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô ‡∏à.‡∏ï‡∏£‡∏≤‡∏î

![React](https://img.shields.io/badge/React-18-61DAFB?logo=react)
![Express](https://img.shields.io/badge/Express-4-000000?logo=express)
![SQLite](https://img.shields.io/badge/SQLite-3-003B57?logo=sqlite)
![Railway](https://img.shields.io/badge/Railway-Deployed-0B0D0E?logo=railway)
![Version](https://img.shields.io/badge/Version-2.5-blue)

üîó **Live Demo**: [https://webforchaidean2-production.up.railway.app](https://webforchaidean2-production.up.railway.app)

---

## üéØ ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô ‡∏à.‡∏ï‡∏£‡∏≤‡∏î ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

- üìç **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô** ‡∏ú‡πà‡∏≤‡∏ô GPS ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡∏ö‡∏•
- üó∫Ô∏è **‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á** ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏®‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò (BM-21, PHL-03)
- üì¢ **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå** ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏∑‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
- üìö **‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°** 72 ‡∏ä‡∏°. ‡πÅ‡∏•‡∏∞‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
- üëÆ **Admin Dashboard** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô, ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®, ‡∏ö‡∏•‡πá‡∏≠‡∏Å IP

> ‚ö†Ô∏è ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£

---

## ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å

### üìç ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô

| ‡∏£‡∏∞‡∏î‡∏±‡∏ö         | ‡∏£‡∏∞‡∏¢‡∏∞        | ‡∏™‡∏µ  | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î        |
| ------------- | ----------- | --- | ----------------- |
| üö® ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï      | < 10 ‡∏Å‡∏°.    | üî¥  | ‡∏≠‡∏û‡∏¢‡∏û‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!        |
| ‚ö†Ô∏è ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏™‡∏π‡∏á | 10-20 ‡∏Å‡∏°.   | üî¥  | ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏û‡∏¢‡∏û        |
| ‡∏£‡∏∞‡∏¢‡∏∞ BM-21    | 20-52 ‡∏Å‡∏°.   | üü†  | ‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ BM-21 Grad |
| ‡∏£‡∏∞‡∏¢‡∏∞ PHL-03   | 52-130 ‡∏Å‡∏°.  | üü°  | ‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ PHL-03     |
| ‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢      | 130-160 ‡∏Å‡∏°. | üü¢  | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥     |
| ‚úÖ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢    | > 160 ‡∏Å‡∏°.   | ‚úÖ  | ‡∏ô‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò      |

### üîê ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

- ‚úÖ JWT Authentication + Refresh Tokens
- ‚úÖ bcrypt Password Hashing (ADMIN_PASSWORD_HASH)
- ‚úÖ CSRF Protection
- ‚úÖ Rate Limiting (Auth: 5/15min, API: 100/15min)
- ‚úÖ XSS/SQLi Attack Detection
- ‚úÖ IP Blocking (Manual + Auto)
- ‚úÖ Request Audit Logging

### üíæ Database

- SQLite (Persistent storage)
- Auto cleanup expired tokens/logs
- WAL mode for better concurrency

---

## üöÄ Railway Deployment

### Environment Variables (Required)

```env
# Authentication
JWT_SECRET=<64-char-hex-secret>
JWT_REFRESH_SECRET=<64-char-hex-secret>
ADMIN_PASSWORD_HASH=<bcrypt-hash>

# Server
NODE_ENV=production
DATABASE_PATH=/data/database.sqlite

# CORS
FRONTEND_URL=https://your-app.up.railway.app
CORS_ORIGINS=https://your-app.up.railway.app
```

### Generate Secrets

```bash
# JWT Secret
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# Admin Password Hash
node -e "require('bcryptjs').hash('YourPassword', 12).then(console.log)"
```

### Railway Volume Mount

‡∏™‡∏£‡πâ‡∏≤‡∏á Volume Mount:

- **Mount Path**: `/data`
- **Name**: `border-safety-data`

---

## üíª Local Development

### Prerequisites

- Node.js 18+
- npm

### Quick Start

```bash
# Clone
git clone https://github.com/LethimCookMyBro/WebFor_ChaiDean2.git
cd KuyHunsen

# Backend
cd backend
npm install
cp .env.example .env  # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç config
npm start

# Frontend (new terminal)
cd frontend
npm install
npm run dev
```

### Local URLs

| Service  | URL                          |
| -------- | ---------------------------- |
| Frontend | https://localhost:5174       |
| Backend  | http://localhost:3001        |
| Admin    | https://localhost:5174/admin |

---

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```
KuyHunsen/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ pages/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ HomeTab.jsx        # ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ CheckTab.jsx       # ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ MapTab.jsx         # ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á + Simulation
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ GuideTab.jsx       # ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.jsx # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ AdminLoginPage.jsx # ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö Admin
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ReportForm.jsx     # ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ LiveReports.jsx    # ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Real-time
‚îÇ       ‚îî‚îÄ‚îÄ config/
‚îÇ           ‚îî‚îÄ‚îÄ api.js             # API Config
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.js                  # Express Server
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.sql             # Database Schema
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js            # SQLite Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.js               # In-memory Cache
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ autoBlocker.js         # Auto IP Blocking
‚îÇ   ‚îú‚îÄ‚îÄ routes/v1/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js                # Login/Logout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports.js             # ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status.js              # Threat Level + Broadcasts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.js               # Logs + IP Blocking
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ locate.js              # Distance Calculation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ geo.js                 # GeoJSON Data
‚îÇ   ‚îî‚îÄ‚îÄ middleware/
‚îÇ       ‚îú‚îÄ‚îÄ auth.js                # JWT Verification
‚îÇ       ‚îú‚îÄ‚îÄ security.js            # Rate Limit + Sanitize
‚îÇ       ‚îú‚îÄ‚îÄ csrf.js                # CSRF Protection
‚îÇ       ‚îî‚îÄ‚îÄ audit.js               # Activity Logging
‚îú‚îÄ‚îÄ Dockerfile                     # Production Build
‚îú‚îÄ‚îÄ railway.json                   # Railway Config
‚îî‚îÄ‚îÄ docker-compose.yml             # Local Docker
```

---

## üì° API Endpoints

### Public

| Method | Endpoint                        | Description         |
| ------ | ------------------------------- | ------------------- |
| GET    | `/health`                       | Health check        |
| GET    | `/api/v1/status`                | System status       |
| GET    | `/api/v1/status/threat-level`   | ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏†‡∏±‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°      |
| GET    | `/api/v1/status/broadcasts`     | ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®              |
| GET    | `/api/v1/reports?verified=true` | ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß |
| POST   | `/api/v1/reports`               | ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà       |
| POST   | `/api/v1/locate/check`          | ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏ä‡∏≤‡∏¢‡πÅ‡∏î‡∏ô   |
| GET    | `/api/v1/geo/districts`         | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡∏ï‡∏≥‡∏ö‡∏•    |

### Admin (Requires Auth)

| Method | Endpoint                        | Description     |
| ------ | ------------------------------- | --------------- |
| POST   | `/api/v1/auth/admin/login`      | Admin Login     |
| POST   | `/api/v1/auth/logout`           | Logout          |
| PUT    | `/api/v1/status/threat-level`   | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏†‡∏±‡∏¢ |
| GET    | `/api/v1/admin/logs`            | System Logs     |
| DELETE | `/api/v1/admin/logs`            | Clear Logs      |
| GET    | `/api/v1/admin/blocked-ips`     | ‡∏î‡∏π IP ‡∏ó‡∏µ‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Å  |
| POST   | `/api/v1/admin/blocked-ips`     | ‡∏ö‡∏•‡πá‡∏≠‡∏Å IP        |
| DELETE | `/api/v1/admin/blocked-ips/:ip` | ‡∏õ‡∏•‡∏î IP          |
| PUT    | `/api/v1/reports/:id/verify`    | ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô    |
| PUT    | `/api/v1/reports/:id`           | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô     |
| DELETE | `/api/v1/reports/:id`           | ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô        |

---

## üê≥ Docker

### Docker Compose

```bash
docker-compose up -d
```

### Build Manually

```bash
docker build -t border-safety .
docker run -p 8080:8080 -v ./data:/data border-safety
```

---

## üÜò ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô ‡∏à.‡∏ï‡∏£‡∏≤‡∏î

| ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£          | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç     |
| --------------- | ----------- |
| ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô | 191         |
| ‡∏£‡∏ñ‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•        | 1669        |
| ‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏¥‡∏á        | 199         |
| ‡∏õ‡∏†.             | 1784        |
| ‡∏®‡∏π‡∏ô‡∏¢‡πå ‡∏õ‡∏†.‡∏ï‡∏£‡∏≤‡∏î   | 039-511-603 |

---

## üìú License

MIT License

---

> ‚ö†Ô∏è **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏°‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡πÄ‡∏ó‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏†‡∏±‡∏¢ (‡∏õ‡∏†.)
